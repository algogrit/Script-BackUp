_FILTER_VAGRANT_MANAGED_VMS="grep -P _\d{10}"

function _vagrantvbox_list() {
  VBoxManage list vms | cut -d \" -f 2 | ${_FILTER_VAGRANT_MANAGED_VMS}
}

function _vagrantvbox_running() {
  VBoxManage list runningvms | cut -d \" -f 2 | ${_FILTER_VAGRANT_MANAGED_VMS}
}

function _vagrantvbox_status() {
  _NUM_VAGRANT_VMS=`_vagrantvbox_list | wc -l`
  _NUM_RUNNING_VAGRANT_VMS=`_vagrantvbox_running | wc -l`

  echo ${_NUM_RUNNING_VAGRANT_VMS} / ${_NUM_VAGRANT_VMS} vagrant managed virtualbox VMs running
}

function vagrantvbox() {
	case "$1" in
		status)
			_vagrantvbox_status
			;;
		list)
			_vagrantvbox_list
			;;
		running)
			_vagrantvbox_running
			;;
		*)
			echo "Usage:
	vagrantvbox status    -    Shows count of running vagrant managed VMs
	vagrantvbox list      -    Lists all vagrant managed VMs
	vagrantvbox running   -    Lists all the running VMs

No detailed help provided."
	esac
}
